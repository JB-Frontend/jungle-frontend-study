# 04. 변수

<aside>
💡 메모리(memory)
데이터를 저장할 수 있는 메모리 셀의 집합체이다.
메모리 셀 하나의 크기는 1바이트(8비트)아며, 컴퓨터는 1바이트 단위로 데이터를 write하거나 read한다.

</aside>

<aside>
💡 각 메모리 셀은 고유의 address를 갖는다.
메모리에는 데이터의 종류(숫자, 텍스트, 이미지 등)와 상관없이 모두 2진수로 저장된다.

</aside>

<aside>
💡 10 + 20 의 연산이라면, 임의의 셀에 10, 20 그리고 결과값 30을 저장한다.(random)
이때 결과값에 접근하려고 메모리 주소에 접근하면 치명적인 오류가 발생할 가능성이 있다.
`자바스크립트는 직접적인 메모리 제어를 허용하지 않는다.`
또한, 코드가 실행될 때마다 주소는 달라지므로 직접적인 접근 또한 힘들고 올바른 방법이 아니다.

</aside>

이를 위해 프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 변수라는 메커니즘을 제공한다.

<aside>
💡 변수(variable)
하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름

</aside>

변수는 하나의 값을 저장하기 위한 메커니즘이기에 여러 개의 값을 저장하려면 그룹화하여 배열이나 객체 같은 자료구조를 사용한다.

```jsx
let result = 10 + 20;
// memory address (모든 주소는 random이다.)
// 10 : 0x000000f2
// 20 : 0x00000182
// 30 : 0x0669f913 -> result(identifier)
```

> 할당(assignment): 변수에 값을 저장하는 것
> 참조(reference): 변수에 저장된 값을 읽어 들이는 것

### 4.2 식별자

<aside>
💡 identifier(식별자: 변수 이름)
어떤 값을 구별해서 식별할 수 있는 고유한 이름
***식별자는 값이 아니라 메모리 주소를 기억하고 있다.***
즉 식별자는 메모리 주소에 붙인 이름이라고 할 수 있다. (위의 result의 경우 30을 저장한 메모리 주소)

</aside>

변수, 함수, 클래스 등의 이름과 같은 식별자는 네이밍 규칙을 준수해야 하며, `declaration(선언)`에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

<aside>
💡 변수 이름은 어디에 등록되는가?
변수 이름을 비롯한 모든 식별자는 `execution context`(실행 컨텍스트)에 등록된다.

</aside>

<aside>
💡 execution context
자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역이다. 자바스크립트 엔진은 실행 컨텍스트를 통해 `식별자`와 `스코프`를 관리한다.
변수 이름과 값은 실행 컨텍스트 내에서  `Object`(key / value)형태로 등록되어 관리된다.
13장 “스코프”와 23장 “실행 컨텍스트”에서 자세히 살펴볼 것이다.

</aside>

### 4.3 변수 선언

<aside>
💡 variable declaration (변수 선언)
값을 저장하기 위한 메모리 공간을 확보(`allocate`)하고 변수 이름과 확보된 메모리 공간의 주소를 연결(`name binding`)해서 값을 저장할 수 있게 준비하는 것이다.
변수를 사용하려면 반드시 선언이 필요하며 선언은 ~~var~~, let, const 키워드를 사용한다.

</aside>

> 변수를 선언한 후 값을 할당하기 전까지 확보된 메모리 공간에는 `undefined` 값이 암묵적으로 할당되어 초기화 된다. 이는 자바스크립트의 독특한 특징(변수 선언 및 초기화(undefined로)가 동시에 진행)이다.

초기화 단계를 거치지 않으면 확보된 메모리 공간에 무슨 값이 남아있을지 모르지만, 자바스크립트는 암묵적으로 초기화를 수행하므로 이러한 위험으로부터 안전하다.

<aside>
💡 undefined
자바스크립트에서 제공하는 primitive value(원시 타입의 값)이다.
6장 “데이터 타입”에서 자세히 살펴볼 것이다.

</aside>

### 4.4 변수 선언의 실행 시점과 변수 호이스팅

> 변수 선언은 소스코드가 한 줄씩 순차적으로 실행되는 런타임 시점이 아니라,
> 그 전 단계(소스코드의 평가 과정)에서 먼저 실행된다.

따라서, 이런 코드가 가능하다.

```jsx
console.log(score); // undefined
var score; // variable declaration
```

<aside>
💡 variable hoisting(변수 호이스팅)
변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징
var, let, const, function, function*, class 를 사용해 선언하는 모든 식별자는 호이스팅된다.

</aside>

### 4.5 값의 할당

> 변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만,
> 값의 할당은 소스코드가 순차적으로 실행되는 런타임 시점에 실행된다.

```jsx
console.log(score); //undefined

var score; // variable declaration
score = 80; // value assignment

console.log(score); // 80
```

변수 선언과 값의 할당을 하나의 문장으로 단축 표현해도 (`var score = 80;`)
자바스크립트 엔진은 변수의 선언과 값의 할당을 2개의 문으로 나누어 실행한다.

```jsx
console.log(score); //undefined

score = 80; // 이와 같이 할당을 먼저하여도 선언이 먼저 실행되기에 위의 코드와 같이 실행된다.
var score;

console.log(score); // 80
```

### 4.6 값의 재할당

```jsx
var score = 80; // 변수 선언과 값의 할당
score = 90; // 재할당
```

<aside>
💡 constant(상수)
값을 재할당할 수 없어서 변수의 저장된 값을 변경할 수 없다.
즉, 단 한 번만 값을 할당할 수 있는 변수
ex) const score = 80; (재할당 불가)

</aside>

### 4.7 식별자 네이밍 규칙

-   식별자는 특수문자를 제외한 `문자`, `숫자`, `언더스코어(_)`, `달러 기호($)`를 포함할 수 있다.
-   식별자는 `문자`, `언더스코어(_)`, `달러 기호($)`로 시작해야 한다. 특수문자, 숫자는 허용하지 않는다.
-   예약어는 식별자로 사용할 수 없다.

> 식별자를 만들 때 유니코드 문자를 허용하므로 알파벳 외의 한글이나 기타 언어도 사용할 수 있다.
> 하지만 권장하지않는다.

<aside>
💡 naming convention(네이밍 컨벤션)
하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성 좋게 단어를 한눈에 구분하기 위해 규정한 명명 규칙이다.
변수나 함수의 이름에는 camelCase
생성자 함수, 클래스 이름에는 PascalCase 를 주로 사용한다.

</aside>
